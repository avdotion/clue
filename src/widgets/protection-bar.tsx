import React from 'react';
// @ts-ignore
import styled, {use} from 'reshadow/macro';
import {SecretData} from './../entities/secretData';

// eslint-disable-next-line max-len
const EMOJI_LIST = ['ðŸ˜º','ðŸ˜¸','ðŸ˜¹','ðŸ˜»','ðŸ˜¼','ðŸ˜½','ðŸ™€','ðŸ˜¿','ðŸ˜¾','ðŸ™ˆ','ðŸ™‰','ðŸ¦','ðŸµ','ðŸ’','ðŸ¦','ðŸ¶','ðŸ•','ðŸ©','ðŸº','ðŸ¦Š','ðŸ±','ðŸˆ','ðŸ¦','ðŸ¯','ðŸ…','ðŸ†','ðŸ´','ðŸŽ','ðŸ¦„','ðŸ¦“','ðŸ¦Œ','ðŸ®','ðŸ‚','ðŸ¦™','ðŸƒ','ðŸ„','ðŸ·','ðŸ¦›','ðŸ–','ðŸ—','ðŸ½','ðŸ','ðŸ‘','ðŸ','ðŸª','ðŸ«','ðŸ¦’','ðŸ˜','ðŸ¦','ðŸ­','ðŸ','ðŸ€','ðŸ¦˜','ðŸ¹','ðŸ¦¡','ðŸ°','ðŸ‡','ðŸ¿','ðŸ¦”','ðŸ¦‡','ðŸ»','ðŸ¨','ðŸ¼','ðŸ¾','ðŸ¦ƒ','ðŸ”','ðŸ¦¢','ðŸ“','ðŸ£','ðŸ¤','ðŸ¦š','ðŸ¥','ðŸ¦','ðŸ¦œ','ðŸ§','ðŸ•Š','ðŸ¦…','ðŸ¦†','ðŸ¦‰','ðŸ¸','ðŸŠ','ðŸ¢','ðŸ¦Ž','ðŸ','ðŸ²','ðŸ‰','ðŸ¦•','ðŸ¦–','ðŸ³','ðŸ‹','ðŸ¬','ðŸŸ','ðŸ ','ðŸ¡','ðŸ¦ˆ','ðŸ™','ðŸš','ðŸ¦€','ðŸ¦Ÿ','ðŸ¦','ðŸ¦ ','ðŸ¦‘','ðŸŒ','ðŸ¦‹','ðŸ›','ðŸœ','ðŸ','ðŸž','ðŸ¦—','ðŸ•·','ðŸ•¸', 'ðŸ¦‚','ðŸ¦ž','ðŸŒ¸','ðŸ’®','ðŸµ','ðŸŒ¹','ðŸ¥€','ðŸŒº','ðŸŒ»','ðŸŒ¼','ðŸŒ·','ðŸŒ±','ðŸŒ²','ðŸŒ³','ðŸŒ´','ðŸŒµ','ðŸŒ¾','ðŸŒ¿','â˜˜','ðŸ€','ðŸ','ðŸ‚','ðŸƒ','ðŸ„','ðŸ’…','ðŸ‘“','ðŸ•¶','ðŸ‘”','ðŸ‘•','ðŸ‘–','ðŸ§£','ðŸ§¤','ðŸ§¥','ðŸ§¦','ðŸ‘—','ðŸ‘˜','ðŸ‘™','ðŸ‘š','ðŸ‘›','ðŸ‘œ','ðŸ‘','ðŸ›','ðŸŽ’','ðŸ‘ž','ðŸ‘Ÿ','ðŸ‘ ','ðŸ‘¡','ðŸ‘¢','ðŸ‘‘','ðŸ‘’','ðŸŽ©','ðŸŽ“','ðŸ§¢','â›‘','ðŸ“¿','ðŸ’„','ðŸŒ‚','â˜‚','ðŸŽ½','ðŸ¥½','ðŸ¥¼','ðŸ¥¾','ðŸ¥¿','ðŸ§º','ðŸš‚','ðŸšƒ','ðŸš„','ðŸš…','ðŸš†','ðŸš‡','ðŸšˆ','ðŸš‰','ðŸšŠ','ðŸš','ðŸšž','ðŸš‹','ðŸšŒ','ðŸš','ðŸšŽ','ðŸš','ðŸš‘','ðŸš’','ðŸš“','ðŸš”','ðŸš•','ðŸš–','ðŸš—','ðŸš˜','ðŸš™','ðŸšš','ðŸš›','ðŸšœ','ðŸš²','ðŸ›´','ðŸ›µ','ðŸš','ðŸ›£','ðŸ›¤','â›µ','ðŸ›¶','ðŸš¤','ðŸ›³','â›´','ðŸ›¥','ðŸš¢','âœˆ','ðŸ›©','ðŸ›«','ðŸ›¬','ðŸš','ðŸšŸ','ðŸš ','ðŸš¡','ðŸ›°','ðŸš€','ðŸ›¸','ðŸŒ','ðŸŒŽ','ðŸŒ','ðŸŒ','ðŸ—º','ðŸ—¾','ðŸ”','â›°','ðŸ—»','ðŸ•','ðŸ–','ðŸœ','ðŸ','ðŸž','ðŸŸ','ðŸ›','ðŸ—','ðŸ˜','ðŸš','ðŸ ','ðŸ¡','ðŸ¢','ðŸ£','ðŸ¤','ðŸ¥','ðŸ¦','ðŸ¨','ðŸ©','ðŸª','ðŸ«','ðŸ¬','ðŸ­','ðŸ¯','ðŸ°','ðŸ—¼','ðŸ—½','â›ª','ðŸ•Œ','ðŸ•','â›©','ðŸ•‹','â›²','â›º','ðŸ™','ðŸŽ ','ðŸŽ¡','ðŸŽ¢','ðŸŽª','â›³','ðŸ—¿','ðŸ’¦','ðŸŒ‹','ðŸŒ','ðŸŒƒ','ðŸŒ„','ðŸŒ…','ðŸŒ†','ðŸŒ‡','ðŸŒ‰','ðŸŒŒ','ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ”','ðŸŒ•','ðŸŒ–','ðŸŒ—','ðŸŒ˜','ðŸŒ™','ðŸŒš','ðŸŒ›','ðŸŒœ','ðŸŒ¡','â˜€','ðŸŒ','ðŸŒž','ðŸŒŸ','ðŸŒ ','â›…','â›ˆ','ðŸŒ¤','ðŸŒ¥','ðŸŒ¦','ðŸŒ§','ðŸŒ¨','ðŸŒ©','ðŸŒª','ðŸŒ«','ðŸŒ¬','ðŸŒ€','ðŸŒˆ','â›„','ðŸ’§','ðŸŒŠ','ðŸŽ‘'];
const DEFAULT_EMOJI = 'ðŸ”’';

const emoji = (value: string): string => {
  const lettersWeightedSum = value.split('').reduce(
    (acc, cur, index) =>
      acc + cur.charCodeAt(0) * index, 0);
  return EMOJI_LIST[lettersWeightedSum % EMOJI_LIST.length];
};

type Props = {
  secretData: SecretData,
};

export const DataVisualizationBar: React.FC<Props> = ({
  secretData: {
    masterPassword,
    domainName,
    optionalSalt,
  },
}: Props) => styled`
  |wrapper {
    line-height: 2.6em;
    font-size: 3.4em;
    letter-spacing: 0.35em;
    text-align: center;
    width: 100%;
  }
`(
  <use.wrapper>{
    masterPassword === ''
    ? new Array(3).fill(DEFAULT_EMOJI)
    : domainName === ''
      ? [
        emoji(masterPassword),
        DEFAULT_EMOJI,
        DEFAULT_EMOJI,
      ]
      : [
          emoji(masterPassword),
          emoji(domainName + optionalSalt),
          emoji(optionalSalt + domainName + 'shift'),
        ]
  }</use.wrapper>
);

